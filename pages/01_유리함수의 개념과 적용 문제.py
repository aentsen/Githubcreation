import streamlit as st

st.set_page_config(page_title="유리함수 개념 퀴즈", page_icon="📘")

st.title("📘 유리함수 개념 학습 및 퀴즈 (공통수학Ⅱ)")

# ---------------------------
# 1️⃣ 개념 설명 영역
# ---------------------------
with st.expander("📘 유리함수의 개념 보기", expanded=True):
    st.markdown("""
    ### 🔹 유리함수란?
    유리함수는 **분자와 분모가 다항식으로 이루어진 함수**를 말합니다.  
    단, **분모가 0이 되는 값**에서는 함수가 정의되지 않습니다.

    예를 들어  
    - f(x) = 1 / x  
    - f(x) = (x + 1) / (x - 2)  
    - f(x) = (x² + 3x + 2) / (x - 1)  
    는 모두 유리함수입니다.

    ### 🔹 정의역
    분모가 0이 되는 값은 함수값을 구할 수 없으므로 **정의역에서 제외**됩니다.  
    예) f(x) = 1 / (x - 3) 의 정의역은 x ≠ 3

    ### 🔹 그래프의 특징
    1. **수직점근선**: 분모가 0이 되는 x값에서 생깁니다.  
       예) f(x) = 1 / (x - 2) → x = 2에서 수직점근선
    2. **수평점근선**: x가 아주 커질 때 y값이 일정한 수에 가까워집니다.  
       예) f(x) = 1 / x → y = 0이 수평점근선입니다.

    ### 🔹 그래프 모양 예시
    - f(x) = 1 / x : 원점을 지나지 않으며 1사분면과 3사분면에 대칭  
    - f(x) = 1 / (x - 1) + 2 : x=1에서 수직점근선, y=2에서 수평점근선
    """)

st.markdown("---")

# ---------------------------
# 2️⃣ 퀴즈 영역
# ---------------------------
st.header("🧠 유리함수 개념 퀴즈")

questions = [
    {
        "question": "유리함수의 정의로 옳은 것은?",
        "options": [
            "분모가 0이 되는 함수를 말한다.",
            "분자와 분모가 다항식인 함수이다.",
            "분자에 루트가 포함된 함수이다.",
            "지수함수의 일종이다.",
            "항상 모든 실수에서 정의된다."
        ],
        "answer": "분자와 분모가 다항식인 함수이다."
    },
    {
        "question": "다음 중 유리함수가 아닌 것은?",
        "options": [
            "f(x) = (x + 1) / (x - 2)",
            "g(x) = 1 / x",
            "h(x) = √x",
            "p(x) = (x² + 3x + 2) / (x - 1)",
            "q(x) = (2x) / (x² + 1)"
        ],
        "answer": "h(x) = √x"
    },
    {
        "question": "유리함수의 그래프에서 수직점근선이 생기는 이유는?",
        "options": [
            "분자가 0이 되는 점에서",
            "분모가 0이 되는 점에서",
            "x가 무한대로 갈 때",
            "y가 0이 되는 점에서",
            "함수가 연속일 때"
        ],
        "answer": "분모가 0이 되는 점에서"
    },
    {
        "question": "f(x) = 1 / x의 그래프에 대한 설명으로 옳은 것은?",
        "options": [
            "원점을 지난다.",
            "x축과 y축이 대칭축이다.",
            "y축에 대하여 대칭이다.",
            "x>0일 때 y>0, x<0일 때 y<0이다.",
            "모든 실수에서 정의된다."
        ],
        "answer": "x>0일 때 y>0, x<0일 때 y<0이다."
    },
    {
        "question": "f(x) = (x² - 1) / (x - 1)의 정의역은?",
        "options": [
            "모든 실수",
            "x ≠ 1",
            "x ≠ -1",
            "x = 1",
            "x ≥ 0"
        ],
        "answer": "x ≠ 1"
    }
]

# ---------------------------
# 3️⃣ 문제 표시 및 정답 확인
# ---------------------------
for i, q in enumerate(questions):
    st.subheader(f"문제 {i+1}. {q['question']}")
    user_answer = st.radio("보기:", q["options"], key=f"q{i}")
    if st.button(f"정답 확인 {i+1}", key=f"btn{i}"):
        if user_answer == q["answer"]:
            st.success("✅ 정답입니다!")
        else:
            st.error(f"❌ 오답입니다. 정답은 **{q['answer']}** 입니다.")
    st.markdown("---")
